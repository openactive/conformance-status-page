<table class="table table-hover datasets-table">
  <thead>
    <tr>
      <th scope="col">Feed</th>
      <th scope="col">Data items passing validation (%)</th>
      <th scope="col">Validation errors</th>
      <th scope="col" title="Total errors / data items">Normalised data profile score (lower better)</th>
    </tr>
  </thead>
  <tbody>
    {{#each publisherDetails.feeds}}
    <tr data-cs-feed-id="{{csFeedId}}">
      <td>
        <a href="{{url}}">
        {{#if name}}
          {{name}}
        {{else}}
          Unnamed
        {{/if}}
        </a>
      </td>
      <td>
        {{#if stats.percentValidationDone }}
        <span title="{{stats.percentValidationDone}}% of items assessed">{{stats.percentValidationPass}}</span>
        {{else}}
        Validation not yet started
        {{/if}}
      </td>
      <td>
        {{#if stats.percentValidationDone }}
        <a href="{{../publisherDetailsUrl}}/feed/{{csFeedId}}/errors">{{name}} Validation Results (JSON)</a>
        {{/if}}
      </td>
      <td>
       {{#each stats.profileStats}}
         {{dataProfileName}}: {{score}} <br />
       {{/each}}
      </td>
    </tr>
    {{/each}}
  </tbody>
</table>

<a href="{{publisherDetailsUrl}}" class="btn btn-secondary btn-sm float-right">Download as JSON</a>

{{#if error}}
<script>
  console.warn("Status source fetch: {{error}}");
</script>
{{/if}}
